name: "ğŸ› Bug Report"
description: "Report a bug or unexpected behavior"
labels: ["bug", "pending-triage"]

body:
  - type: markdown
    attributes:
      value: "# Bug Report Template\n\nThank you for reporting this bug! Please provide as much detail as possible to help us fix it quickly."

  - type: dropdown
    id: funnel_assignment
    attributes:
      label: "ğŸ¯ Affected Funnel Area (G1: MANDATORY)"
      description: "Which area is affected by this bug?"
      options:
        - "(shop) - B2C Product Shop"
        - "(werkstatt) - Workshop Management"
        - "(autohandel) - Auto Dealership"
        - "(shared) - Multiple areas"
    validations:
      required: true

  - type: textarea
    id: bug_description
    attributes:
      label: "ğŸ› Bug Description"
      description: "Clear description of the bug"
      placeholder: "What happened and what should have happened..."
    validations:
      required: true

  - type: textarea
    id: repro_steps
    attributes:
      label: "ğŸ“‹ Steps to Reproduce"
      description: "Step-by-step instructions to reproduce the bug"
      placeholder: "1. Go to...\n2. Click on...\n3. See the error..."  
    validations:
      required: true

  - type: textarea
    id: expected_behavior
    attributes:
      label: "âœ… Expected Behavior"
      description: "What should happen instead?"
    validations:
      required: true

  - type: dropdown
    id: severity
    attributes:
      label: "ğŸš¨ Severity Level"
      description: "How critical is this bug?"
      options:
        - "ğŸ”´ Critical - Feature completely broken (P0)"
        - "ğŸŸ  High - Major functionality affected (P1)"
        - "ğŸŸ¡ Medium - Minor functionality issue (P2)"
        - "ğŸŸ¢ Low - Cosmetic or rare edge case (P3)"
    validations:
      required: true

  - type: textarea
    id: browser_env
    attributes:
      label: "ğŸ’» Browser & Environment"
      description: "OS, browser, and device information"
      placeholder: "OS: macOS 14.0\nBrowser: Chrome 120\nDevice: MacBook Pro M2"
    validations:
      required: true

  - type: textarea
    id: error_logs
    attributes:
      label: "ğŸ“‹ Error Logs/Console Output"
      description: "Any console errors or stack traces (optional but helpful)"
      placeholder: "```\nerror message here\n```"

  - type: dropdown
    id: kpi_impact
    attributes:
      label: "ğŸ“Š KPI Impact"
      description: "Does this bug affect key metrics?"
      options:
        - "Critical - Blocks conversions/bookings"
        - "High - Increases drop-off rates"
        - "Medium - Minor UX degradation"
        - "Low - No direct KPI impact"
    validations:
      required: true

  - type: checkboxes
    id: verification
    attributes:
      label: "âœ… Verification"
      options:
        - label: "I have checked for duplicate issues"
          required: true
        - label: "I have reproduced the bug consistently"
          required: true
        - label: "This is not a feature request"
          required: true